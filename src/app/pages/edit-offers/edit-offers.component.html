<app-side-menu></app-side-menu>
<app-header-bar></app-header-bar>
<main class="middle-content">
    <form [formGroup]="editOfferForm">
        <div class="content-section">
            <div class="page_title_block">
                <h1 class="page_title">Edit Offers</h1>
            </div>
            <div class="order-view mt30 max-WT-600 mrgn-0-auto">
                <div class="main-block-innner mb40 mt40">
                    <div class="text-center" *ngIf="fetching">
                        
                            <i class="fa fa-spinner fa-spin" style="font-size:36px;color: blue;"></i>
                         Offer_Updating...
                        
                    </div>
                    <div *ngIf="IsUpdateOffer">
                    <div class="add-store-block input-style max-WT-400">
                      <div class="mb-4 text-right">
                                    <label class="mr-3">Add Photo : </label>
                                    <div class="file btn btn-upload btn-primary">
                                        Upload Image
                                        <input type="file" name="image" accept="image/*" formControlName="image" (change)="onSelectFile($event)" multiple/>
                                    </div>
                                    <div class="two-images">
                                        <div class="row">
                                        <div class="col-md-4" *ngFor="let data of urls; index as i">
                                    <div class="d-flex text-center mb-4 justify-content-between flex-wrap">
                                        <label for="fileInput" class="hoverable">
                                          <img src={{data}} style="max-width:100px;height:75px;margin:5px;" (click)="removeImage(i)">
                                          <div class="hover-text">click to delete                                            
                                          </div>
                                        </label>
                                         </div>
                                        </div>
                                          
                                       </div>
                                       </div>
                                  
                                </div>
                        <div class="d-flex text-center mb-4 justify-content-between flex-wrap"
                            *ngFor="let item of editoffer_id">{{item?.image}}
                            <img [src]="item?.image" style="max-width:200px;height:130px;margin:5px;">
                            <!-- <img src="../assets/img/dummy.png" style="max-width:200px;height:130px;margin:5px;"> -->
                        </div>
                        <div class="form-group">
                            <label class="d-block pb-2"> Offer Tagline :</label>
                            <div class="">
                                <input type="text" class="form-control" formControlName="offerTag"
                                    placeholder="Buy 1 free get 1 free">
                            </div>{{editoffer_id?.offerTagLine}}
                        </div>
                        <div class="form-group">
                            <label class="d-block pb-2">Offer Code :</label>
                            <div class="max-WT-200">
                                <input type="text" class="form-control" formControlName="offerCode"
                                    placeholder="Wegd45467">
                            </div>{{editoffer_id?.offerCode}}
                        </div>
                        <div class="form-group row">
                            <div class="col-6">
                                <label class="d-block pb-2">Start Date :</label>
                                <div class="">
                                    <input type="date" class="form-control " name="formdate" [(ngModel)]="startdate" 
                                        formControlName="startdate" [value]="items[0]?.startDate | date:'yyyy-MM-dd'" (ngModelChange)="changed($event)" min="{{todayDate | date:'yyyy-MM-dd'}}">
                                </div>
                                <!-- {{items[0]?.startDate}} -->
                            </div>
                            <div class="col-6">
                                <label class="d-block pb-2">End Date :</label>
                                <div class="">
                                    <input type="date" class="form-control" name="formdate" min="{{startdate | date:'yyyy-MM-dd'}}"
                                        formControlName="enddate"  [value]="items[0]?.endDate | date:'yyyy-MM-dd'" (ngModelChange)="changed($event)" min="{{todayDate | date:'yyyy-MM-dd'}}">
                                </div>
                                <!-- {{items[0]?.endDate}} -->
                            </div>
                        </div>

                        <div class="text-center mt40">
                            <a class="btn btn-large  max-WT-150 btn-green mr-2" (click)="update()">Update </a>
                            <a routerLink="/offer-promo-management"
                                class="btn btn-large  max-WT-150 btn-red mr-2">Cancel </a>
                        </div>
                    </div>
                </div>
                </div>
            </div>

        </div>
    </form>
</main>


<!-- signout_modal Start -->
<div class="modal fade global-modal reset-modal" id="logout_modal">
    <div class="modal-dialog max-WT-450">
        <div class="modal-content">
            <div>
                <!-- Modal body -->
                <div class="modal-body  text-center">
                    <div class="row align-items-center modal_flax_height">
                        <div class="col">
                            <div class="box-title mb30 d-inline-block">
                                <i class="fas fa-power-off off-icon"></i>
                                <p class="mt40">Are you sure you want to logout?</p>
                            </div>
                            <div class="text-center">
                                <a routerLink="/login" class="btn btn-blue btn-noYes">YES</a>
                                <button type="button" class="btn btn-red btn-noYes" data-dismiss="modal">CANCEL</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>